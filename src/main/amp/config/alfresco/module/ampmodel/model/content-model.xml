<?xml version="1.0" encoding="UTF-8"?>
<model xmlns="http://www.alfresco.org/model/dictionary/1.0" name="ccm:customContentModel">
    <!-- Optional meta-data about the model -->
    <description>Alfresco Custom Document for Repo Model</description>
    <author>Sandeep Narayanan</author>
    <version>1.0</version>
    <imports>
        <!-- Import Alfresco Dictionary Definitions -->
        <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d" />
        <!-- Import Alfresco Content Domain Model Definitions -->
        <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
        <!-- Import Alfresco System Model Definitions -->
        <import uri="http://www.alfresco.org/model/system/1.0" prefix="sys" />
    </imports>
    <!-- Custom namespace for your domain -->
    <namespaces>
        <namespace uri="http://www.alfresco.org/model/content/1.0" prefix="cm" />
        <namespace uri="http://www.mycompany.com/model/content/1.0" prefix="ccm" />
    </namespaces>
    <!-- ===============================================================================================================
         Constraints, Types, and Aspects go here...
         -->
    <constraints>
        <constraint name="cm:filename" type="REGEX">
            <parameter name="expression">
                <value><![CDATA[(.*[\"\*\\\>\<\?\/\:\|]+.*)|(.*[\.]?.*[\.]+$)|(.*[ ]+$)]]></value>
            </parameter>
            <parameter name="requiresMatch">
                <value>false</value>
            </parameter>
        </constraint>
        <constraint name="cm:userNameConstraint" type="org.alfresco.repo.dictionary.constraint.UserNameConstraint" />
    </constraints>
    <types>
        <type name="cm:customModelPerson">
            <title>Personal Details</title>
            <parent>sys:base</parent>
            <properties>
                <!-- The tokenisation set here is ignored - it is fixed for this type -->
                <!-- This is so you can not break person lookup -->
                <property name="cm:userName">
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                    <constraints>
                        <constraint ref="cm:userNameConstraint" />
                    </constraints>
                </property>
                <property name="cm:age">
                    <type>d:int</type>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>true</stored>
                        <tokenised>false</tokenised>
                    </index>
                </property>
                <property name="cm:firstName">
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>
                <property name="cm:lastName">
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>
                <property name="cm:middleName">
                    <type>d:text</type>
                </property>
                <property name="cm:email">
                    <type>d:text</type>
                </property>
                <property name="cm:organizationId">
                    <type>d:text</type>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>true</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:homeFolderProvider">
                    <type>d:text</type>
                </property>
                <property name="cm:defaultHomeFolderPath">
                    <type>d:text</type>
                </property>
                <property name="cm:presenceProvider">
                    <type>d:text</type>
                </property>
                <property name="cm:presenceUsername">
                    <type>d:text</type>
                </property>
                <property name="cm:organization">
                    <type>d:text</type>
                </property>
                <property name="cm:jobtitle">
                    <type>d:text</type>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>true</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:location">
                    <type>d:text</type>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>true</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:telephone">
                    <type>d:text</type>
                </property>
                <property name="cm:mobile">
                    <type>d:text</type>
                </property>
                <property name="cm:companyaddress1">
                    <type>d:text</type>
                </property>
                <property name="cm:companyaddress2">
                    <type>d:text</type>
                </property>
                <property name="cm:companyaddress3">
                    <type>d:text</type>
                </property>
                <property name="cm:companypostcode">
                    <type>d:text</type>
                </property>
                <property name="cm:companytelephone">
                    <type>d:text</type>
                </property>
                <property name="cm:companyfax">
                    <type>d:text</type>
                </property>
                <property name="cm:companyemail">
                    <type>d:text</type>
                </property>
                <property name="cm:skype">
                    <type>d:text</type>
                </property>
                <property name="cm:instantmsg">
                    <type>d:text</type>
                </property>
                <property name="cm:userStatus">
                    <type>d:text</type>
                </property>
                <property name="cm:personActive">
                    <type>d:boolean</type>
                    <default>true</default>
                </property>
            </properties>
            <mandatory-aspects>
                <aspect>cm:auditable</aspect>
            </mandatory-aspects>
        </type>
    </types>
    <aspects>
        <aspect name="cm:auditable">
            <title>Auditable</title>
            <properties>
                <property name="cm:created">
                    <title>Created</title>
                    <type>d:datetime</type>
                    <protected>true</protected>
                    <mandatory enforced="true">true</mandatory>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>both</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:creator">
                    <title>Creator</title>
                    <type>d:text</type>
                    <protected>true</protected>
                    <mandatory enforced="true">true</mandatory>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>true</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:modified">
                    <title>Modified</title>
                    <type>d:datetime</type>
                    <protected>true</protected>
                    <mandatory enforced="true">true</mandatory>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>both</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:modifier">
                    <title>Modifier</title>
                    <type>d:text</type>
                    <protected>true</protected>
                    <mandatory enforced="true">true</mandatory>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>true</tokenised>
                        <facetable>true</facetable>
                    </index>
                </property>
                <property name="cm:accessed">
                    <title>Accessed</title>
                    <type>d:datetime</type>
                    <protected>true</protected>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>both</tokenised>
                    </index>
                </property>
            </properties>
        </aspect>
    </aspects>
</model>